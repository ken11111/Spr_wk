# Claude Code プロンプト集 - 完全インデックス

## 📂 ファイル構成

```
prompts/
├── README.md                          (8.6KB) - 全体概要と使い方
├── QUICK_REFERENCE.md                 (8.9KB) - クイックリファレンス
├── INDEX.md                           (このファイル) - 完全インデックス
├── 01_environment_check.md            (6.0KB) - Phase 1プロンプト集
├── 02_build_system_integration.md     (12KB)  - Phase 2プロンプト集
└── 03_application_development.md      (14KB)  - Phase 3プロンプト集
                                       -------
                                       合計: 約50KB
```

## 🎯 目的別ファイルガイド

### 初めて使う方
1. **README.md** を読む（全体像把握）
2. **QUICK_REFERENCE.md** を手元に置く（チートシート）
3. **01_environment_check.md** から順番に進める

### 時間がない方
- **QUICK_REFERENCE.md** だけ見て、必要なプロンプトをコピー

### 特定の問題を解決したい方
| 問題 | 参照ファイル | セクション |
|------|------------|-----------|
| SDK更新エラー | 01_environment_check.md | トラブルシューティング |
| builtin登録失敗 | 02_build_system_integration.md | プロンプト3-7 |
| CONFIG変数エラー | 02_build_system_integration.md | プロンプト4 |
| センサー取得エラー | 03_application_development.md | プロンプト3, 8 |
| AHRSの発散 | 03_application_development.md | トラブルシューティング |

### 効率的な開発がしたい方
- **README.md** の「効果的なプロンプトの3原則」を理解
- 各フェーズのプロンプトをテンプレートとして活用

## 📑 各ファイルの詳細

### 📄 README.md（必読）

**内容**:
- プロンプト集の概要
- 使い方の基本
- フェーズ別重要ポイント
- プロンプトテンプレート
- 実際の成果（効率化データ）
- トラブルシューティングFAQ

**推奨読了時間**: 10分

**こんな時に読む**:
- 初めてClaude Codeを使う
- プロンプトの書き方を学びたい
- 全体の流れを理解したい

---

### 📄 QUICK_REFERENCE.md（常に参照）

**内容**:
- 開発フローチャート
- プロンプトの黄金律
- フェーズ別必須コマンド
- トラブルシューティング・チートシート
- よくある間違いと即効解決
- 緊急時のテンプレート

**推奨使用方法**: 常に開いておき、必要な時にコピペ

**こんな時に使う**:
- エラーが出て困った時
- コマンドを忘れた時
- プロンプトの書き方を確認したい時

---

### 📄 01_environment_check.md

**Phase 1: 最新環境の確認と構築**

**含まれるプロンプト**:
1. 現状確認と診断
2. アップデート計画の策定
3. ツールチェーンのインストール
4. ビルド確認

**想定時間**: 1-2時間
**難易度**: ★☆☆☆☆

**達成目標**:
- SDK v3.4.5インストール完了
- ARM GCC 12.2.1動作確認
- デフォルト設定でビルド成功

**こんな時に使う**:
- SDKを更新する時
- 新しい環境をセットアップする時
- ビルド環境のトラブル時

---

### 📄 02_build_system_integration.md（最重要）

**Phase 2: NuttXビルドシステムへの統合**

**含まれるプロンプト**:
1. NuttXビルドシステムの理解
2. 既存アプリとの比較分析
3. .configファイルの構造理解（最重要）
4. CONFIG変数の正しい設定
5. Make.defsの正しい記述
6. Makefileの最適化
7. ビルド確認と検証

**トラブルシューティング**:
- ビルド成功だが登録されない
- CONFIG変数名の誤り
- パス指定の誤り

**想定時間**: 2-4時間
**難易度**: ★★★★★（最も難しい）

**達成目標**:
- builtin_list.hにエントリ生成
- NuttShellで実行可能

**最重要ポイント**:
- NuttX側.configへの設定が鍵
- CONFIG_EXAMPLES_*プレフィックス必須
- CONFIGURED_APPSへの正しいパス指定

**こんな時に使う**:
- カスタムアプリをbuiltin登録する時
- "command not found"エラーが出る時
- ビルドは成功するが実行できない時

---

### 📄 03_application_development.md

**Phase 3: アプリケーションの提案から実装**

**含まれるプロンプト**:
1. アプリケーション要件の整理
2. アーキテクチャ設計
3. センサーデータ取得の実装
4. Madgwick AHRS統合
5. 位置推定の実装
6. メインプログラムの実装
7. ビルド設定の最適化
8. デバッグとテスト
9. 性能最適化

**追加セクション**:
- コード品質向上のプロンプト
- コードレビュー依頼
- ドキュメント作成依頼

**想定時間**: 3-5時間
**難易度**: ★★★☆☆

**達成目標**:
- センサーデータ取得成功
- 姿勢推定（Roll/Pitch/Yaw）動作
- リアルタイム表示

**こんな時に使う**:
- 新しい機能を実装する時
- アルゴリズム選定に迷った時
- コードレビューが欲しい時
- ドキュメントを作成する時

---

## 🎓 学習パス

### ビギナー向け（初めてのSpresense開発）

```
1日目: 環境構築
├─ README.md を読む（理解）
├─ QUICK_REFERENCE.md を手元に置く
└─ 01_environment_check.md を順番に実行

2日目: ビルドシステム理解
├─ 02_build_system_integration.md プロンプト1-2（理解）
├─ 既存アプリ（sixaxis）を分析
└─ プロンプト3-7（実践）

3日目: アプリ実装
└─ 03_application_development.md を使って実装

目標: 3日間でサンプルアプリ完成
```

### 中級者向け（Spresense経験あり）

```
1日目: 環境確認 + ビルド統合
├─ 01を流し読み、必要な部分のみ実行
└─ 02を重点的に（.config構造を理解）

2日目: アプリ実装
└─ 03を使って効率的に実装

目標: 2日間で新規アプリ完成
```

### 上級者向け（効率化重視）

```
半日: 全て完了
├─ QUICK_REFERENCE.md のみ参照
└─ 必要なプロンプトをコピペして高速開発

目標: 6-8時間で完成
```

## 📊 効率化効果の実績

### 実証プロジェクト: BMI160姿勢推定アプリ

| フェーズ | 従来 | AI活用 | 効果 |
|---------|------|--------|------|
| Phase 1 | 4-6h | 1h | 5倍速 |
| Phase 2 | 6-8h | 2h | 4倍速 |
| Phase 3 | 8-12h | 3h | 3倍速 |
| ドキュメント | 6-8h | 0.5h | 12倍速 |
| **合計** | **24-34h** | **6.5h** | **4倍速** |

**結論**: 1週間の作業が実質1日で完了

## 🔍 プロンプトの品質指標

良いプロンプトの条件:

### ✅ 良いプロンプト例
```
BMI160センサーからデータを取得する機能を実装してください。

【環境】
- SDK: Spresense SDK v3.4.5
- デバイス: /dev/accel0, /dev/gyro0
- 目標: 100Hzサンプリング

【要件】
1. デバイスオープンとエラーハンドリング
2. サンプリングレート設定
3. データ読取ループ

【質問】
1. Spresense SDKでの推奨API呼び出し方法は？
2. エラー時のリトライ戦略は？

NuttX/Spresense v3.4.5のベストプラクティスに従ってください。
```

**評価**: ★★★★★
- 環境明示: ✅
- 具体的要件: ✅
- 質問あり: ✅
- バージョン指定: ✅

### ❌ 悪いプロンプト例
```
センサーアプリ作って
```

**評価**: ★☆☆☆☆
- 環境不明: ❌
- 要件曖昧: ❌
- 質問なし: ❌
- バージョン不明: ❌

## 💼 実践例：プロンプト選択フローチャート

```
問題発生！
    ↓
どのフェーズ？
    ├─ Phase 1（環境）→ 01_environment_check.md
    ├─ Phase 2（ビルド）→ 02_build_system_integration.md
    └─ Phase 3（実装）→ 03_application_development.md
    ↓
該当ファイル内の該当セクションへ
    ↓
プロンプトをコピー
    ↓
【】内を自分の環境に変更
    ↓
Claude Codeに入力
    ↓
結果を確認
    ↓
    ├─ 解決 → 次のステップへ
    └─ 未解決 → QUICK_REFERENCEのトラブルシューティングへ
```

## 🎁 ボーナス：プロンプト改善のTips

### Tip 1: エラーは全文共有
```
❌ 「ビルドエラーが出ました」
✅ 「ビルドエラー全文: [エラーログ全文を貼り付け]」
```

### Tip 2: 期待値を明示
```
❌ 「動きません」
✅ 「期待: XXXが表示される、実際: YYYエラーが出る」
```

### Tip 3: 既存コードを参照させる
```
❌ 「Makefileの書き方を教えて」
✅ 「sixaxisのMakefileを読んで、私のアプリ用を作成してください」
```

### Tip 4: 段階的に質問
```
❌ 「全部うまくいかない」
✅ 「まず環境確認をして、次にビルドテストしてください」
```

### Tip 5: バージョンを明記
```
❌ 「Spresenseで開発」
✅ 「Spresense SDK v3.4.5 (NuttX 12.3.0)で開発」
```

## 📞 サポート情報

### このプロンプト集で解決しない場合

1. **QUICK_REFERENCE.md** のトラブルシューティングを確認
2. **README.md** のFAQを確認
3. プロジェクト本体の **ISSUE_RESOLVED.md** を参照
4. より具体的なエラー情報をClaude Codeに提供

### 推奨される質問の仕方

```
【このプロンプト集のどれを試したか】
- 01_environment_check.md のプロンプト3まで実行

【現在の状況】
- ツールチェーンインストールでエラー

【エラー内容】
[エラーメッセージ全文]

【質問】
次にどのプロンプトを使うべきですか？
もしくは、このエラー用のカスタムプロンプトを提案してください。
```

## 📚 関連リソース

### プロジェクト本体ドキュメント
- [README.md](../README.md) - プロジェクト全体
- [SUCCESS_SUMMARY.md](../SUCCESS_SUMMARY.md) - 成功報告
- [ISSUE_RESOLVED.md](../ISSUE_RESOLVED.md) - 問題解決詳細
- [EXECUTION_OUTPUT.md](../EXECUTION_OUTPUT.md) - 実行結果
- [COMMANDS_SUMMARY.md](../COMMANDS_SUMMARY.md) - コマンド一覧

### 外部リソース
- [Spresense公式ドキュメント](https://developer.sony.com/spresense/)
- [NuttX Documentation](https://nuttx.apache.org/docs/latest/)
- [Claude Code公式](https://claude.com/claude-code)

## 🎯 まとめ

このプロンプト集を使うことで:

✅ **時間を75%削減**（24-34h → 6.5h）
✅ **段階的に進められる**（3フェーズに分割）
✅ **トラブル解決が速い**（実証済みプロンプト）
✅ **品質が向上**（コードレビュー、ドキュメント自動生成）

**成功の秘訣**:
1. README.mdで全体を理解
2. QUICK_REFERENCE.mdを手元に置く
3. 各フェーズのプロンプトを順番に使う
4. 焦らず、段階的に進める
5. エラーは詳細に共有する

---

**作成日**: 2025-12-14
**プロジェクト**: Spresense BMI160姿勢推定アプリ
**実証期間**: 2日間（実質6.5時間）
**効率化**: 約4倍
**ステータス**: ✅ 完全成功
